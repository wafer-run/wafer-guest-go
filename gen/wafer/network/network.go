// Package network provides the WIT-generated network service imports.
// Generated by wit-bindgen-go from wafer-wit/wit/network.wit.
package network

type MetaEntry struct {
	Key   string
	Value string
}

type HttpRequest struct {
	Method  string
	URL     string
	Headers []MetaEntry
	Body    *[]byte // optional
}

type HttpResponse struct {
	StatusCode uint16
	Headers    []MetaEntry
	Body       []byte
}

type NetworkError uint8

const (
	NetworkErrorRequestError NetworkError = iota
	NetworkErrorSsrfBlocked
	NetworkErrorOther
)

func (e NetworkError) Error() string {
	switch e {
	case NetworkErrorRequestError:
		return "request error"
	case NetworkErrorSsrfBlocked:
		return "SSRF blocked"
	default:
		return "network error"
	}
}

var DoRequest func(req HttpRequest) (HttpResponse, error)
